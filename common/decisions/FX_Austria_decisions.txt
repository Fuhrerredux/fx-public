####################################################################
### Created by MateusT1044/Ayla, Berry, Meep and thanasislanaras ###
####################################################################

political_actions = {
	AUS_landbund_promises_made_mission = {
		activation = {
			always = no
		}
		available = {
			has_completed_focus = AUS_intergrate_allies_in_landbund
		}
		days_mission_timeout = 60
		icon = mission_icon 
		fire_only_once = yes
		selectable_mission = no
		is_good = no
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_landbund_promises_made_mission target: [From.GetName]"
			add_political_power = -100
			add_stability = -0.05
			clr_country_flag = AUS_landbund_promises_made
		}
	}
}

foreign_politics = {
	AUS_sdapo_condemn_legionaries = {
		icon = GFX_decision_hol_draw_up_staff_plans
		fire_only_once = yes
		allowed = { original_tag = AUS }
		available = {
			OR = {
				has_government = social_democrat
				has_government = libertarian_socialist
				has_government = collectivist
			}
		}
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_sdapo_condemn_legionaries target: [From.GetName]"
			hidden_effect = {
				add_command_power = -15
			}
			# relations with Iron Guard Romania and Hungary will go down and soon an event will pop up for you to support Romanian and Hungarian rebels
		}
	}
	AUS_create_a_shadow_railway = {
		icon = GFX_decision_fortress
		fire_only_once = yes
		allowed = { original_tag = AUS }
		available = {
			OR = {
				has_government = social_democrat
				has_government = libertarian_socialist
				has_government = collectivist
			}
		}
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_create_a_shadow_railway target: [From.GetName]"
			hidden_effect = {
				add_command_power = -15
			}
			# Austria will contact Yugoslav rebels and Hungarian rebels on the hopes of establishing a route to traffic weapons and equipment
		}
	}
}

AUS_jansa_plan_decision_category = {
	AUS_jansa_plan_decision_expand_training = {
		icon = GFX_decision_generic_army_support
		fire_only_once = yes
		days_remove = 60
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		modifier = {
			experience_gain_army = 0.15
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -15
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_jansa_plan_decision_expand_training target: [From.GetName]"
			army_experience = 20
			set_country_flag = AUS_jansa_plan_s_1
		}
	}
	AUS_jansa_plan_decision_linz = {
		icon = GFX_decision_fortress
		fire_only_once = yes
		available = {
			num_of_available_civilian_factories > 2
			hidden_trigger = {
				has_country_flag = AUS_jansa_plan_s_1
			}
			has_full_control_of_state = 152
			has_full_control_of_state = 4
		}
		modifier = {
			civilian_factory_use = 3
		}
		cost = 25
		days_remove = 90
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_jansa_plan_decision_linz target: [From.GetName]"
			add_coalition_paternal_autocrat = yes
			152 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9665
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3684
				}
			}
			4 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6691
				}
			}
			set_country_flag = AUS_jansa_plan_s_2
		}
	}
	AUS_jansa_plan_decision_vienna = {
		icon = GFX_decision_fortress
		fire_only_once = yes
		available = {
			num_of_available_civilian_factories > 1
			hidden_trigger = {
				has_country_flag = AUS_jansa_plan_s_1
			}
			has_full_control_of_state = 803
		}
		modifier = {
			civilian_factory_use = 2
		}
		cost = 25
		days_remove = 90 
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_jansa_plan_decision_vienna target: [From.GetName]"
			803 = {
				add_building_construction = {
					type = bunker
					level = 5
					instant_build = yes
					province = 11666
				}
			}
			set_country_flag = AUS_jansa_plan_s_3
		}
	}
	AUS_jansa_plan_decision_jansa_line = {
		icon = GFX_decision_fortress
		fire_only_once = yes
		days_remove = 30
		available = {
			num_of_available_civilian_factories > 4
			hidden_trigger = {
				has_country_flag = AUS_jansa_plan_s_1
				has_country_flag = AUS_jansa_plan_s_2
				has_country_flag = AUS_jansa_plan_s_3
			}
			has_full_control_of_state = 152
			has_full_control_of_state = 4
		}
		modifier = {
			civilian_factory_use = 5
		}
		cost = 20
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_jansa_plan_decision_jansa_line target: [From.GetName]"
			152 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9665
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 3684
				}
			}
			4 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6691
				}
			}
			army_experience = 50
			swap_ideas = {
				add_idea = AUS_jansa_plan_completed
				remove_idea = AUS_jansa_plan_idea
			}
		}
	}
}

AUS_economic_decisions_category = {
	AUS_electrify_the_north = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 180
		cost = 20
		allowed = { always = no } # activated by AUS_electrify
		state_target = yes
		available = {
			num_of_available_civilian_factories > 1
			has_full_control_of_state = 803
			has_full_control_of_state = 152
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			152 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			803 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_electrify_the_south = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 180
		cost = 20
		allowed = { always = no } # activated by AUS_electrify
		state_target = yes
		available = {
			num_of_available_civilian_factories > 1
			has_full_control_of_state = 913
			has_full_control_of_state = 4
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			913 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}

			4 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_electrify_the_west = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 180
		cost = 20
		allowed = { always = no } # activated by AUS_electrify
		state_target = yes
		available = {
			num_of_available_civilian_factories > 1
			has_full_control_of_state = 153
			has_full_control_of_state = 937
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			153 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			937 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_modernise_logistics = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 80
		cost = 20
		allowed = { always = no } # activated by AUS_taking_a_loan
		state_target = yes
		available = {
			has_full_control_of_state = 803
		}
		modifier = {
			consumer_goods_factor = -0.20
		}
		remove_effect = {
			add_stability = 0.05
		}
	}
	AUS_modernise_industrial_logistics = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 80
		cost = 20
		allowed = { always = no } # activated by AUS_taking_a_loan
		state_target = yes
		available = {
			has_full_control_of_state = 803
		}
		modifier = {
			production_speed_industrial_complex_factor = 0.05
		}
		remove_effect = {
			add_stability = 0.05
			add_tech_bonus = {
				name = industry_bonus_decision
				bonus = 0.5
				uses = 1
				category = industry
			}
			803 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_expand_social_welfare = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 80
		cost = 20
		allowed = { always = no } # activated by AUS_continue_investing_brr
		state_target = yes
		available = {
			has_full_control_of_state = 803
		}
		remove_effect = {
			add_stability = 0.10
			add_war_support = 0.10
		}
	}
	AUS_industrialisation_of_tyrol = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 80
		cost = 20
		allowed = { always = no } # activated by AUS_continue_investing_brr
		state_target = yes
		available = {
			has_full_control_of_state = 153
		}
		remove_effect = {
			153 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_industrialisation_of_burgenland = {
		icon = GFX_decision_generic_construction
		fire_only_once = yes
		days_remove = 180
		cost = 20
		allowed = { always = no } # activated by AUS_continue_investing_brr
		state_target = yes
		available = {
			has_full_control_of_state = 772
		}
		remove_effect = {
			772 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	AUS_integrate_hungarian_industries = {
		icon = GFX_decision_generic_factory
		fire_only_once = yes
		days_remove = 180
		cost = 50
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 43
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 43
				}
			}
			OR = {
				has_full_control_of_state = 155
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 155
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			43 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			155 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = AUS_improves_stability_of_the_realm_tt
			hidden_effect = {
				155 = { 
					add_compliance = 5
					add_resistance = -5
				}
				154 = { 
					add_compliance = 5
					add_resistance = -5
				}
				751 = { 
					add_compliance = 5
					add_resistance = -5
				}
				940 = { 
					add_compliance = 5
					add_resistance = -5
				}
				43 = { 
					add_compliance = 5
					add_resistance = -5
				}
			}
		}
	}
	AUS_integrate_czech_industries = {
		icon = GFX_decision_generic_factory
		fire_only_once = yes
		days_remove = 180
		cost = 50
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 9
				CZE = {
					is_subject_of = AUS
					has_full_control_of_state = 9
				}
			}
			OR = {
				has_full_control_of_state = 75
				CZE = {
					is_subject_of = AUS
					has_full_control_of_state = 75
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			9 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			75 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = AUS_improves_stability_of_the_realm_tt
			hidden_effect = {
				9 = { 
					add_compliance = 5
					add_resistance = -5
				}
				75 = { 
					add_compliance = 5
					add_resistance = -5
				}
				775 = { 
					add_compliance = 5
					add_resistance = -5
				}
				69 = { 
					add_compliance = 5
					add_resistance = -5
				}
				74 = { 
					add_compliance = 5
					add_resistance = -5
				}
			}
		}
	}
	AUS_upgrade_hungarian_infrastucture = {
		icon = GFX_decision_generic_operation
		fire_only_once = yes
		days_remove = 200
		cost = 50
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 43
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 43
				}
			}
			OR = {
				has_full_control_of_state = 155
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 155
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			43 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			155 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			154 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			751 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			940 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = AUS_improves_stability_of_the_realm_tt
			hidden_effect = {
				155 = { 
					add_compliance = 5
					add_resistance = -5
				}
				154 = { 
					add_compliance = 5
					add_resistance = -5
				}
				751 = { 
					add_compliance = 5
					add_resistance = -5
				}
				940 = { 
					add_compliance = 5
					add_resistance = -5
				}
				43 = { 
					add_compliance = 5
					add_resistance = -5
				}
			}
		}
	}
	AUS_illyrian_roads = {
		icon = GFX_decision_generic_operation
		fire_only_once = yes
		days_remove = 200
		cost = 50
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 109
				CRO = {
					is_subject_of = AUS
					has_full_control_of_state = 109
				}
			}
			OR = {
				has_full_control_of_state = 1039
				CRO = {
					is_subject_of = AUS
					has_full_control_of_state = 1039
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			109 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1039 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			45 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1034 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			788 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = AUS_improves_stability_of_the_realm_tt
			hidden_effect = {
				109 = { 
					add_compliance = 5
					add_resistance = -5
				}
				1039 = { 
					add_compliance = 5
					add_resistance = -5
				}
				45 = { 
					add_compliance = 5
					add_resistance = -5
				}
				1034 = { 
					add_compliance = 5
					add_resistance = -5
				}
				788 = { 
					add_compliance = 5
					add_resistance = -5
				}
				104 = { 
					add_compliance = 5
					add_resistance = -5
				}
				789 = { 
					add_compliance = 5
					add_resistance = -5
				}
				1037 = { 
					add_compliance = 5
					add_resistance = -5
				}
				1035 = { 
					add_compliance = 5
					add_resistance = -5
				}
				985 = { 
					add_compliance = 5
					add_resistance = -5
				}
				102 = { 
					add_compliance = 5
					add_resistance = -5
				}
				767 = { 
					add_compliance = 5
					add_resistance = -5
				}
			}
		}
	}
	AUS_renovate_budapest_fortifications = {
		icon = GFX_decision_generic_fortification
		fire_only_once = yes
		days_remove = 100
		cost = 25
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 43
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 43
				}
			}
			OR = {
				has_full_control_of_state = 155
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 155
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			43 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 9660
					instant_build = yes
				}
			}
			155 = {
				add_building_construction = {
					type = bunker
					level = 2
					province = 11663
					instant_build = yes
				}
			}
		}
	}
	AUS_fortify_carpathians = {
		icon = GFX_decision_generic_fortification
		fire_only_once = yes
		days_remove = 100
		cost = 25
		allowed = { always = no } # activated by AUS_all_around_the_danube
		state_target = yes
		available = {
			OR = {
				has_full_control_of_state = 76
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 76
				}
				TRA = {
					is_subject_of = AUS
					has_full_control_of_state = 76
				}
			}
			OR = {
				has_full_control_of_state = 84
				HUN = {
					is_subject_of = AUS
					has_full_control_of_state = 84
				}
				TRA = {
					is_subject_of = AUS
					has_full_control_of_state = 84
				}
			}
		}
		modifier = {
			civilian_factory_use = 2
		}
		remove_effect = {
			76 = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 9685
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 711
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 3689
					instant_build = yes
				}
			}
			84 = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 690
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 3676
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 6709
					instant_build = yes
				}
			}
		}
	}
}

economy_decisions = {
	AUS_generic_import_guns = {
		icon = GFX_decision_generic_construction
		targets = { FRA ITA }
		target_non_existing = no
		days_remove = 180
		custom_cost_trigger = {
			command_power > 14
		}
		visible = {
			has_completed_focus = AUS_import_equipment
		}
		custom_cost_text = decision_cost_CP_15

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0 #TODO_THANLAN: uhm yeah this should be fixed
				command_power < 14
				OR = {
					stockpile_ratio = {
						archetype = infantry_equipment_0
						ratio > 0.2
					}
					stockpile_ratio = {
						archetype = infantry_equipment_1
						ratio > 0.2
					}
					stockpile_ratio = {
						archetype = infantry_equipment_2
						ratio > 0.2
					}
					stockpile_ratio = {
						archetype = infantry_equipment_3
						ratio > 0.2
					}
				}
			}
		}

		target_root_trigger = {
			NOT = { has_dynamic_modifier = { modifier = AUS_import_weapons_idea } }
		}

		available = {
			FROM = { has_equipment = { infantry_equipment > 500 } }
		}

		complete_effect = {
			hidden_effect = { add_command_power = -15 }
			FROM = { country_event = { id = austria.12 days = 2 random_hours = 6 } } 
		}
	}
}

AUS_national_contracts_category = {
	AUS_national_contract_1 = {
		icon = GFX_decision_generic_army_support
		days_remove = 180

		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				command_power < 30
				OR = {
					stockpile_ratio = {
						archetype = infantry_equipment_0
						ratio > 0.5
					}
					stockpile_ratio = {
						archetype = infantry_equipment_1
						ratio > 0.5
					}
					stockpile_ratio = {
						archetype = infantry_equipment_2
						ratio > 0.5
					}
					stockpile_ratio = {
						archetype = infantry_equipment_3
						ratio > 0.5
					}
				}
			}
		}
		
		custom_cost_text = decision_cost_CP_20_PP_100
		custom_cost_trigger = {
			command_power > 19
		}
		cost = 100
		available = {
			has_full_control_of_state = 803
		}
		modifier = {
			consumer_goods_factor = 0.10
			production_factory_efficiency_gain_factor = 0.10
			production_factory_max_efficiency_factor = 0.15
		}
		complete_effect = {
			hidden_effect = {
                add_command_power = -20
            }
		}
	}
}

AUS_resources_collection_decision_category = {
	
}

### MECHANICS ###

AUS_solve_black_wednesday_category = {
	AUS_solve_black_wednesday = {
		activation = {
			has_completed_focus = AUS_economic_recovery
		}
		available = {
			hidden_trigger = { always = no }
		}
		cancel_trigger = {
			AND = {
				has_completed_focus = AUS_rethink_power_plant
				has_completed_focus = AUS_expand_social_programs 
			}
		}
		days_mission_timeout = 180
		icon = mission_icon 
		fire_only_once = yes
		selectable_mission = no
		is_good = no
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_solve_black_wednesday target: [From.GetName]"
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
				name = AUS_junta_party
				long_name = AUS_junta_party_long
			}
			add_country_leader_role = {
				character = AUS_Alfred_Jansa
				promote_leader = yes
				country_leader = {
					ideology = paternal_autocrat_subtype
				}
			}
		}
	}
}

AUS_buying_loyalty = {
	AUS_integrate_gdp = {
		cost = 25
		icon = mission_icon 
		fire_only_once = yes
		available = {
			has_stability > 0.30
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AUS_integrate_gdp target: [From.GetName]"
			add_coalition_paternal_autocrat = yes
		}
	}
	AUS_integrate_the_heimatblock = {
		cost = 25
		icon = mission_icon 
		fire_only_once = yes
		available = {
			has_stability > 0.30
			has_completed_focus = AUS_ally_moderate_hemiwehr
		}		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AUS_integrate_the_heimatblock target: [From.GetName]"
			add_coalition_national_populist = yes
		}
	}
	AUS_crackdown_on_communist_dissent = {
		icon = GFX_decision_generic_army_support
		days_remove = 60
		cost = 20
		available = {
			has_stability > 0.30
			collectivist > 0.05
		}
		modifier = {
			political_power_cost = 0.20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AUS_crackdown_on_communist_dissent target: [From.GetName]"
			add_popularity = {
				ideology = collectivist
				popularity = -0.05
			}
			add_stability = -0.02
		}
	}
	AUS_crackdown_on_socialist_dissent = {
		icon = GFX_decision_generic_army_support
		days_remove = 30
		cost = 20
		available = {
			has_stability > 0.30
			libertarian_socialist > 0.05
		}
		modifier = {
			political_power_cost = 0.20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AUS_crackdown_on_socialist_dissent target: [From.GetName]"
			add_popularity = {
				ideology = libertarian_socialist
				popularity = -0.05
			}
			add_stability = -0.02
		}
	}
}

AUS_socialist_crackdown_decision_category = {
	AUS_terrorism_timer = {
		days_mission_timeout = 15
		icon = mission_icon #GFX TODO?
		selectable_mission = no
		is_good = no
		available = {
			always = no
		}
		activation = {
			has_completed_focus = AUS_dolfuss_successor
			NOT = {
				OR = {
					has_country_flag = AUS_socialist_militia_crackdown_victory_cf
					has_country_flag = AUS_SDAPO_counters_schuschnigg
				}
			}
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_terrorism_timer target: [From.GetName]"
			if = { #Victory
				limit = {
					OR = {
						AND = {
							has_country_flag = AUS_vienna_occupied_by_schuschnigg
						}
					}
				}
				set_country_flag = AUS_socialist_militia_crackdown_victory_cf
				AUS = { country_event = AUSterrorism.2 }
				803 = {
					set_demilitarized_zone = no
				}
				152 = {
					set_demilitarized_zone = no
				}
				4 = {
					set_demilitarized_zone = no
				}
				772 = {
					set_demilitarized_zone = no
				}
				913 = {
					set_demilitarized_zone = no
				}
			}
			else_if = { #Defeat 1
				limit = {
					NOT = {
						AND = {
							has_country_flag = AUS_vienna_occupied_by_schuschnigg
						}
					}
				}
				country_event = AUSterrorism.1
			}
		}
	}
	AUS_socialist_militia_crackdown_timer = {
		days_mission_timeout = 60
		icon = mission_icon #GFX TODO?
		selectable_mission = no
		is_good = no
		available = {
			always = no
		}
		activation = {
			has_completed_focus = AUS_dolfuss_successor
			NOT = {
				OR = {
					has_country_flag = AUS_socialist_militia_crackdown_victory_cf
					has_country_flag = AUS_SDAPO_counters_schuschnigg
				}
			}
		}
		cancel_trigger = {
			OR = {
				has_country_flag = AUS_socialist_militia_crackdown_victory_cf
				has_country_flag = AUS_SDAPO_counters_schuschnigg
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel AUS_socialist_militia_crackdown_timer target: [From.GetName]"
			add_stability = 0.15
			add_political_power = 75
		}
		
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_socialist_militia_crackdown_timer target: [From.GetName]"
			activate_mission = AUS_socialist_militia_crackdown_timer
			if = { #Victory
				limit = {
					OR = {
						AND = {
							has_country_flag = AUS_vienna_occupied_by_schuschnigg
						}
					}
				}
				set_country_flag = AUS_socialist_militia_crackdown_victory_cf
				AUS = { country_event = AUSterrorism.2 }
				803 = {
					set_demilitarized_zone = no
				}
				152 = {
					set_demilitarized_zone = no
				}
				4 = {
					set_demilitarized_zone = no
				}
				772 = {
					set_demilitarized_zone = no
				}
				913 = {
					set_demilitarized_zone = no
				}
			}
			else_if = { #Defeat
				limit = {
					NOT = {
						AND = {
							has_country_flag = AUS_vienna_occupied_by_schuschnigg
						}
					}
				}
				clr_country_flag = AUS_counteroffensive_schuschnigg
				random_owned_state = {
					limit = {
						any_neighbor_state = { is_demilitarized_zone = yes }
						is_demilitarized_zone = no
						NOT = { state = 937 } #Lower Austria
						NOT = { state = 153 } #Tyrol
						if = {
							limit = {
								913 = { is_demilitarized_zone = no } #Sazburg
								772 = { is_demilitarized_zone = no } #Burgenland
							}
							NOT = { state = 4 } #Graz
						}
						if = {
							limit = {
								803 = {
									is_demilitarized_zone = no
								}
							}
							THIS = { state = 803 } 
						}
						if = {
							limit = {
								NOT = {
									AUS = { has_country_flag = AUS_graz_logistic_exploded }
								}
							}
							NOT = { state = 4 } 
							NOT = { state = 912 } 
						}
						if = {
							limit = { 
								AUS = { has_country_flag = AUS_invasion_of_graz }
								ROOT = { has_stability > 0.10 }
							}
							NOT = { state = 4 }
							NOT = { state = 912 }
						}
					}
					if = {
						limit = { 
							913 = { is_demilitarized_zone = yes } 
							772 = { is_demilitarized_zone = yes }
						}
						AUS = { country_event = AUSterrorism.3 }
					}
					if = {
						limit = { 
							AUS = { has_country_flag = AUS_invasion_of_graz } 
							AUS = { has_stability < 0.10 }
							NOT = { state = 4 }
						}
						AUS = { country_event = AUSterrorism.4 }
					}
					if = {
						limit = { 
							THIS = { state = 913 } 
							THIS = { state = 772 }
							AUS = { has_country_flag = AUS_graz_logistic_exploded }
						} 
						AUS = { country_event = AUSterrorism.5 } #Battle of Graz
					}
					if = {
						limit = {
							THIS = { state = 912 }
						}
						AUS = { country_event = AUSterrorism.6 } #The Regime Falls
						AUS = { set_country_flag = AUS_SDAPO_counters_schuschnigg }
					}

					# Emergency win for dumb AI, or just auto win for lucky people

					else = {
						set_demilitarized_zone = yes
					}
				}
				
				if = {
					limit = { 
						912 = { is_demilitarized_zone = no } 
						ROOT = { has_stability > 0.20 }
					}
					AUS = { set_country_flag = AUS_socialist_militia_crackdown_victory_cf }
				}
			}
		}
	}
	AUS_attack_rebels = {
		icon = GFX_decision_generic_army_support #GFX TODO
		days_remove = 10
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -15
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_attack_rebels target: [From.GetName]"
			add_days_mission_timeout = {
				mission = AUS_socialist_militia_crackdown_timer
				days = 10
			}
			set_country_flag = AUS_recently_attacked_rebels
		}
	}
	AUS_allow_use_of_artillery = {
		icon = GFX_decision_generic_army_support #GFX TODO
		days_remove = 5
		fire_only_once = yes
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -15
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_attack_rebels target: [From.GetName]"
			add_days_mission_timeout = {
				mission = AUS_socialist_militia_crackdown_timer
				days = 30
			}
			add_command_power = 5
		}
	}
	AUS_organise_front_assault = {
		icon = GFX_decision_generic_army_support #GFX TODO
		days_remove = 10
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		available = {
			has_country_flag = AUS_recently_attacked_rebels
		}
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -15
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_attack_rebels target: [From.GetName]"
			add_days_mission_timeout = {
				mission = AUS_socialist_militia_crackdown_timer
				days = 30
			}
			random_owned_state = {
				limit = {
					any_neighbor_state = { is_demilitarized_zone = no }
					is_demilitarized_zone = yes
					NOT = { state = 803 } #Lower Austria
				}
				set_demilitarized_zone = no
			}
			clr_country_flag = AUS_recently_attacked_rebels
			set_country_flag = AUS_counteroffensive_schuschnigg
		}
	}
	AUS_attack_vienna = {
		icon = GFX_decision_generic_army_support #GFX TODO
		days_remove = 10
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		ai_will_do = {
			factor = 20
		}
		available = {
			has_country_flag = AUS_counteroffensive_schuschnigg
			803 = {
				any_neighbor_state = {
					NOT = {
						is_demilitarized_zone = yes
					}
				}
			}
			803 = {
				is_demilitarized_zone = yes
			}
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -15
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AUS_attack_rebels target: [From.GetName]"
			add_days_mission_timeout = {
				mission = AUS_socialist_militia_crackdown_timer
				days = 30
			}
			set_country_flag = AUS_vienna_occupied_by_schuschnigg
			803 = {
				set_demilitarized_zone = no
			}
		}
	}
}

AUS_schuschnigg_acts_category = {

}


#AUS_fulfilling_promises_monarchy = {
#	AUS_fulfilling_promises_monarchy_timer = {
#		activation = {
#			has_completed_focus = AUS_austria_hungary
#			OR = {
#				NOT = { has_country_flag = AUS_promises_completed }
#				NOT = { has_country_flag = AUS_promises_failed }
#			}
#		}
#		available = {
#			always = no
#		}
#		days_mission_timeout = 185
#		icon = mission_icon #GFX TODO? # YES
#		selectable_mission = no
#		timeout_effect = {
#			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_fulfilling_promises_monarchy_timer target: [From.GetName]"
#			if = { #Victory
#				limit = {
#					has_country_flag = AUS_promises_completed
#				}
#				set_country_flag = AUS_promises_victory_cf
#				#AUS = { country_event = # to do }
#			}
#			else = { #Defeat
#				#AUS = { country_event = # to do }
#			}
#		}
#	}
#	AUS_SPO_irritation = {
#		activation = {
#			has_completed_focus = AUS_austria_hungary#
#			NOT = { has_country_flag = AUS_promises_completed }
#		}
#		available = {
#			always = no
#		}
#		days_mission_timeout = 30
#		icon = mission_icon #GFX TODO? # YES
#		selectable_mission = no
#		timeout_effect = {
#			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_SPO_irritation target: [From.GetName]"
#			if = { #Victory
#				limit = {
#					has_country_flag = AUS_promises_completed
#				}
#				set_country_flag = AUS_promises_victory_cf
#				#AUS = { country_event = # to do }
#			}
#			else = { #Defeat
#				#AUS = { country_event = # to do }
#			}
#		}
#	}
#	AUS_serbian_ultranationalism = {
#		activation = {
#			has_completed_focus = AUS_austria_hungary#
#			NOT = { has_country_flag = AUS_promises_completed }
#		}
#		available = {
#			always = no
#		}
#		days_mission_timeout = 30
#		icon = mission_icon #GFX TODO? # YES
#		selectable_mission = no
#		timeout_effect = {
#			log = "[GetDateText]: [Root.GetName]: Decision timeout AUS_serbian_ultranationalism target: [From.GetName]"
#			if = { #Victory
#				limit = {
#					has_country_flag = AUS_promises_completed
#				}
#				set_country_flag = AUS_promises_victory_cf
#				#AUS = { country_event = # to do }
#			}
#			else = { #Defeat
#				#AUS = { country_event = # to do }
#			}
#		}
#	}
#}


AUS_HUN_scripted_gui_category = {

	### AUSTRIA-HUNGARY ###

	AUS_declare_war_on_tag = {
		targets = { HUN SLO CZE GAL SER ROM ITA }
		icon = GFX_decision_generic_army_support
		days_remove = 30

		ai_will_do = {
			base = 5
			modifier = {
				add = 10
				command_power > 30
				OR = {
					stockpile_ratio = {
						archetype = infantry_equipment_0
						ratio > 0.8
					}
					stockpile_ratio = {
						archetype = infantry_equipment_1
						ratio > 0.8
					}
					stockpile_ratio = {
						archetype = infantry_equipment_2
						ratio > 0.8
					}
					stockpile_ratio = {
						archetype = infantry_equipment_3
						ratio > 0.8
					}
				}
				has_army_size = {
					size > 1
					type = armor
				}
				has_army_size = {
					size > 15
					type = infantry
				}
			}
		}

		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		available = {
			has_full_control_of_state = 803 # no idea why but sure
			has_army_manpower = {
				size > 80000
			}
			num_of_military_factories > 5
		}
		visible = {
			FROM = {
				NOT = {
					is_subject_of = AUS
					exists = no
					has_war_with = AUS
				}
			}
		}
		complete_effect = {
			hidden_effect = {
        add_command_power = -15
      }
		}
		war_with_on_remove = FROM
		remove_effect = {
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	AUS_form_austria_hungary = {
		icon = GFX_decision_generic_army_support
		days_remove = 30

		ai_will_do = {
			base = 5
			modifier = {
				add = 10
				command_power > 30
				has_army_size = {
					size > 6
					type = armor
				}
				has_army_size = {
					size > 48
					type = infantry
				}
			}
		}
		
		custom_cost_text = decision_cost_CP_15
		custom_cost_trigger = {
			command_power > 14
		}
		available = {
			has_full_control_of_state = 803
			has_full_control_of_state = 155
			has_full_control_of_state = 9
			has_full_control_of_state = 70
		}
		visible = {
			NOT = {
				has_completed_focus = AUS_austria_hungary
			}
		}
		complete_effect = {
			hidden_effect = {
                add_command_power = -15
            }
		}
		remove_effect = {
			set_cosmetic_tag = AUS_HUN_empire
			complete_national_focus = AUS_austria_hungary
		}
	}
}
AUS_propaganda_efforts = {
	AUS_military_service_propaganda = {
		icon = generic_army_support
		days_remove = 365
		days_re_enable = 30
		cost = var:AUS_military_service_propaganda_cost
		available = {
			OR = {
				has_war = yes
				threat > var:AUS_military_service_propaganda_threat
			}
		}
		visible = {
		}
		fire_only_once = no
		modifier = {
			conscription = 0.005
			mobilization_speed = 0.05
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision military_service_propaganda"
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				surrender_progress > 0.01
			}
		}
	}
	AUS_war_propaganda_casualties = {
		icon = generic_prepare_civil_war
		fire_only_once = no
		days_remove = 180
		cost = var:AUS_war_propaganda_100
		available = {
			has_casualties_war_support < 0
		}
		visible = {
			has_war_with_non_exiled_country = yes
		}
		remove_trigger = {
			has_war = no
		}
		modifier = {
			weekly_casualties_war_support = 0.006
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10 #AI should probably just choose this one for general purposes.
				has_war = yes
				has_war_support < 0.7
			}
			modifier = {
				add = 20
				has_war = yes
				has_war_support < 0.5
			}
			modifier = {
				add = 30
				has_war = yes
				has_war_support < 0.3
			}
			modifier = {
				add = 201 #ie; consider prio idea
				has_war = yes
				has_casualties_war_support < -0.25
			}
			modifier = {
				factor = 0
				has_manpower < 100000
				has_political_power < 250
				OR = {
					has_idea = volunteer_only
					has_idea = limited_conscription
					has_idea = extensive_conscription
				}
			}
		}
	}
	AUS_war_propaganda_convoys = {
		icon = GFX_decision_generic_naval
		fire_only_once = no
		days_remove = 180
		cost = var:AUS_war_propaganda_100
		available = {
			has_convoys_war_support < 0
		}
		visible = {
			has_war_with_non_exiled_country = yes
		}
		remove_trigger = {
			has_war = no
		}
		modifier = {
			weekly_convoys_war_support = 0.006
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 201 #ie; consider prio idea
				has_war = yes
				has_convoys_war_support < -0.29
			}
			modifier = {
				factor = 0
				has_manpower < 100000
				has_political_power < 250
				OR = {
					has_idea = volunteer_only
					has_idea = limited_conscription
					has_idea = extensive_conscription
				}
			}
		}
	}
	AUS_war_propaganda_bombing = {
		icon = GFX_decision_generic_air
		available = {
			has_bombing_war_support < 0
		}
		visible = {
			has_war_with_non_exiled_country = yes
		}
		fire_only_once = no
		days_remove = 180
		remove_trigger = {
			has_war = no
		}
		cost = var:AUS_war_propaganda_100
		modifier = {
			weekly_bombing_war_support = 0.006
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 10 #AI should probably just choose this one for general purposes.
				has_war = yes
				has_war_support < 0.65
			}
			modifier = {
				add = 20
				has_war = yes
				has_war_support < 0.50
			}
			modifier = {
				add = 30
				has_war = yes
				has_war_support < 0.35
			}
			modifier = {
				add = 201 #ie; consider prio idea
				has_war = yes
				has_bombing_war_support < -0.20
			}
			modifier = {
				factor = 0
				has_manpower < 100000
				has_political_power < 250
				OR = {
					has_idea = volunteer_only
					has_idea = limited_conscription
					has_idea = extensive_conscription
				}
			}
		}
	}
	AUS_war_propaganda_radio_industry = {
		icon = GFX_decision_hol_radio_oranje
		available = {
			has_tech = radio
			threat > var:AUS_war_propaganda_radio_industry_threat
		}
		cost = var:AUS_war_propaganda_radio_industry_cost
		fire_only_once = yes
		complete_effect = {
			add_war_support = 0.05
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 201
				has_war_support < 0.6
			}
		}
	}
	AUS_war_propaganda_film_industry = {

		icon = generic_prepare_civil_war

		available = {
			has_war_with_non_exiled_country = yes
			OR = {
				is_major = yes
				any_allied_country = { is_major = yes }
			}
			threat > var:AUS_war_propaganda_film_industry_threat
		}

		cost = var:AUS_war_propaganda_100
		fire_only_once = yes

		complete_effect = {
			add_war_support = 0.10
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 201
				has_war_support < 0.6
			}
		}
	}
	#Propaganda campaign against a country in offensive that has caused a lot of tension and started a war
	AUS_war_propaganda_against_warmonger = {
		icon = generic_prepare_civil_war
		days_remove = 90
		fire_only_once = yes
		cost = var:AUS_war_propaganda_against_warmonger_cost
		available = {
			NOT = { has_country_flag = war_propaganda_campaign_running }
			FROM = {
				OR = {
					has_offensive_war = yes
					is_justifying_wargoal_against = ROOT
				}
			}
		}
		visible = {
			FROM = { NOT = { has_government = ROOT } }
			FROM = {
				NOT = { is_neighbor_of = ROOT }
				NOT = { is_in_faction_with = ROOT }
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						has_offensive_war = yes
						has_added_tension_amount > 30
					}
					is_justifying_wargoal_against = ROOT
					has_offensive_war_with = ROOT
				}
			}
		}
		target_trigger = {
			FROM = {
				NOT = { is_neighbor_of = ROOT }
				NOT = { is_in_faction_with = ROOT }
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						has_offensive_war = yes
						has_added_tension_amount > 30
					}
					is_justifying_wargoal_against = ROOT
					has_offensive_war_with = ROOT
				}
			}
		}
		modifier = {
			war_support_weekly = 0.01
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision war_propaganda_against_warmonger target: [From.GetName]"
			set_country_flag = war_propaganda_campaign_running
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove war_propaganda_against_warmonger target: [From.GetName]"
			clr_country_flag = war_propaganda_campaign_running
		}
		ai_will_do = {
			factor = 0
		}
	}
	#Propaganda campaign against a neighbor
	AUS_war_propaganda_against_warmonger_neighbor = {
		icon = generic_prepare_civil_war
		days_remove = 90
		days_re_enable = 180
		cost = var:AUS_war_propaganda_against_warmonger_neighbor_cost
		available = {
			NOT = { has_country_flag = war_propaganda_campaign_running }
			FROM = {
				OR = {
					has_offensive_war = yes
					is_justifying_wargoal_against = ROOT
					has_war_with = ROOT
				}
			}
		}
		visible = {
			#FROM = { NOT = { has_government = ROOT } }
			FROM = {
				is_neighbor_of = ROOT
				NOT = { is_in_faction_with = ROOT }
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						has_offensive_war = yes
					}
					is_justifying_wargoal_against = ROOT
					has_war_with = ROOT
				}
				#has_added_tension_amount > 5
			}
		}
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
				NOT = { is_in_faction_with = ROOT }
				OR = {
					AND = {
						NOT = { has_government = ROOT }
						has_offensive_war = yes
					}
					is_justifying_wargoal_against = ROOT
					has_war_with = ROOT
				}
				#has_added_tension_amount > 5
			}
		}
		modifier = {
			war_support_weekly = 0.01
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision war_propaganda_against_warmonger_neighbor target: [From.GetName]"
			set_country_flag = war_propaganda_campaign_running
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove war_propaganda_against_warmonger_neighbor target: [From.GetName]"
			clr_country_flag = war_propaganda_campaign_running
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war_support > 0.9
			}
		}
	}
}
# It seems that whats done is that they are here solely for the 'reshuffle bureacracy', which makes effects be better by 60%
# TODO_THANLAN: This should be changed in the future so normal decisions can accomodate it.
AUS_political_actions = {
	AUS_generic_raise_stability = {
		# Socialists: Improve Worker Conditions
		icon = {
			key = generic_industry
			trigger = { has_socialist_government = yes }
		}
		# Liberals: Legislate More Freedoms
		icon = {
			key = generic_civil_support
			trigger = {
				OR = {
					has_democratic_left_government = yes
					has_government = market_liberal
				}
			}
		}
		# SocCons: Police Crackdown
		icon = {
			key = oppression
			trigger = {
				OR = {
					has_government = social_conservative
					has_government = authoritarian_democrat
				}
			}
		}
		#Authoritarian -> 'Send in the Army'
		icon = {
			key = generic_army_support
			trigger = { has_dictatorship_government = yes }
		}
		visible = {
			has_country_flag = AUS_political_generic
		}
		
		available = { 
			has_stability < 1
		}
		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = 0.1
			industrial_capacity_factory = -0.1
		}

		cost = 100
		days_remove = 180
		days_re_enable = 540

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}
	AUS_generic_raise_stability_reshuffle = {
		# Socialists: Improve Worker Conditions
		icon = {
			key = generic_industry
			trigger = { has_socialist_government = yes }
		}
		# Liberals: Legislate More Freedoms
		icon = {
			key = generic_civil_support
			trigger = {
				OR = {
					has_democratic_left_government = yes
					has_government = market_liberal
				}
			}
		}
		# SocCons: Police Crackdown
		icon = {
			key = oppression
			trigger = {
				OR = {
					has_government = social_conservative
					has_government = authoritarian_democrat
				}
			}
		}
		#Authoritarian -> 'Send in the Army'
		icon = {
			key = generic_army_support
			trigger = { has_dictatorship_government = yes }
		}
		visible = {
			has_country_flag = AUS_political_reshuffle
		}
		
		available = { 
			has_stability < 1
		}
		modifier = {
			stability_weekly = 0.008
			consumer_goods_factor = 0.1
			industrial_capacity_factory = -0.1
		}

		cost = 100
		days_remove = 180
		days_re_enable = 540

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}
	AUS_generic_raise_stability_stack = {
		# Socialists: Improve Worker Conditions
		icon = {
			key = generic_industry
			trigger = { has_socialist_government = yes }
		}
		# Liberals: Legislate More Freedoms
		icon = {
			key = generic_civil_support
			trigger = {
				OR = {
					has_democratic_left_government = yes
					has_government = market_liberal
				}
			}
		}
		# SocCons: Police Crackdown
		icon = {
			key = oppression
			trigger = {
				OR = {
					has_government = social_conservative
					has_government = authoritarian_democrat
				}
			}
		}
		#Authoritarian -> 'Send in the Army'
		icon = {
			key = generic_army_support
			trigger = { has_dictatorship_government = yes }
		}
		visible = {
			has_country_flag = AUS_political_stack
		}
		
		available = { 
			has_stability < 1
		}
		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = 0.06
			industrial_capacity_factory = -0.06
		}

		cost = 60
		days_remove = 180
		days_re_enable = 540

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}

	AUS_generic_raise_support = {
		#Democratic -> 'Rally Public Support'
		icon = {
			key = generic_political_rally
			trigger = {
				NOT = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		#Authoritarian -> 'Solidify Control'
		icon = {
			key = eng_propaganda_campaigns
			trigger = {
				OR = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		visible = {
			has_country_flag = AUS_political_generic
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Party Popularity is less than 100%"
				check_variable = { party_popularity@ruling_party < 1 }
			}
		}

		cost = 150
		days_remove = 180
		days_re_enable = 540

		remove_effect = {
			set_temp_variable = { ideology_change_var = 0.1 }
			change_ruling_party_popularity = yes
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { party_popularity@ruling_party < 0.5 }
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}
	AUS_generic_raise_support_reshuffle = {
		#Democratic -> 'Rally Public Support'
		icon = {
			key = generic_political_rally
			trigger = {
				NOT = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		#Authoritarian -> 'Solidify Control'
		icon = {
			key = eng_propaganda_campaigns
			trigger = {
				OR = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Party Popularity is less than 100%"
				check_variable = { party_popularity@ruling_party < 1 }
			}
		}
		visible = {
			has_country_flag = AUS_political_reshuffle
		}

		cost = 150
		days_remove = 180
		days_re_enable = 540

		remove_effect = {
			set_temp_variable = { ideology_change_var = 0.16 }
			change_ruling_party_popularity = yes
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { party_popularity@ruling_party < 0.5 }
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}
	AUS_generic_raise_support_stack = {
		#Democratic -> 'Rally Public Support'
		icon = {
			key = generic_political_rally
			trigger = {
				NOT = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		#Authoritarian -> 'Solidify Control'
		icon = {
			key = eng_propaganda_campaigns
			trigger = {
				OR = {
					has_government = vanguardist
					has_authoritarian_government = yes
				}
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = "Party Popularity is less than 100%"
				check_variable = { party_popularity@ruling_party < 1 }
			}
		}
		visible = {
			has_country_flag = AUS_political_stack
		}
		cost = 90
		days_remove = 180
		days_re_enable = 540

		remove_effect = {
			set_temp_variable = { ideology_change_var = 0.1 }
			change_ruling_party_popularity = yes
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				check_variable = { party_popularity@ruling_party < 0.5 }
				has_political_power > 175 #Spend on other things first
			}
			modifier = {
				add = 1
				has_political_power > 200
			}
		}
	}

	AUS_cut_red_tape = {
		icon = generic_operation
		fire_only_once = no
		days_remove = 90
		days_re_enable = 365
		cost = 100
		available = {
		}
		visible = {
			OR = {
				has_government = social_conservative
				has_government = market_liberal
				has_government = social_liberal
			}
			has_country_flag = AUS_political_generic
		}
		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = 0.025
			political_power_gain = -0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cut_red_tape"
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
			}
		}
	}
	AUS_cut_red_tape_reshuffle = {
		icon = generic_operation
		fire_only_once = no
		days_remove = 90
		days_re_enable = 365
		cost = 100
		available = {
		}
		visible = {
			OR = {
				has_government = social_conservative
				has_government = market_liberal
				has_government = social_liberal
			}
			has_country_flag = AUS_political_reshuffle
		}
		modifier = {
			stability_weekly = 0.008
			consumer_goods_factor = 0.025
			political_power_gain = -0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cut_red_tape"
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
			}
		}
	}
	AUS_cut_red_tape_stack = {
		icon = generic_operation
		fire_only_once = no
		days_remove = 90
		days_re_enable = 365
		cost = 60
		available = {
		}
		visible = {
			OR = {
				has_government = social_conservative
				has_government = market_liberal
				has_government = social_liberal
			}
			has_country_flag = AUS_political_stack
		}
		modifier = {
			stability_weekly = 0.005
			consumer_goods_factor = 0.015
			political_power_gain = -0.06
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cut_red_tape"
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability < 0.6
			}
		}
	}

	AUS_seize_some_trains_woo = {
		icon = GFX_decision_hol_draw_up_staff_plans

		visible = {
			has_tech = basic_train
			num_of_factories < 60
			has_country_flag = AUS_political_generic
		}

		available = {
			has_equipment = { train_equipment < 101 }
		}

		days_remove = 180

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.74
				has_equipment = { train_equipment < 15 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision seize_some_trains_woo"
			add_stability = -0.05
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}
		}
	}
	AUS_seize_some_trains_woo_reshuffle = {
		icon = GFX_decision_hol_draw_up_staff_plans

		visible = {
			has_tech = basic_train
			num_of_factories < 60
			has_country_flag = AUS_political_reshuffle
		}

		available = {
			has_equipment = { train_equipment < 101 }
		}

		days_remove = 180

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.74
				has_equipment = { train_equipment < 15 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision seize_some_trains_woo"
			add_stability = -0.05
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 24
			}
		}
	}
	AUS_seize_some_trains_woo_stack = {
		icon = GFX_decision_hol_draw_up_staff_plans

		visible = {
			has_tech = basic_train
			num_of_factories < 60
		}

		available = {
			has_equipment = { train_equipment < 101 }
			has_country_flag = AUS_political_stack
		}

		days_remove = 180

		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_stability > 0.74
				has_equipment = { train_equipment < 15 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision seize_some_trains_woo"
			add_stability = -0.03
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}
		}
	}

	AUS_restructure_supply_system = { #one time boost to get a few cheap supply hubs
		icon = GFX_decision_generic_construction

		visible = {
			OR = {
				is_major = no
				AND = {
					is_faction_leader = yes
					num_of_factories < 51 #would be a minor if it wasn't for faction leader status
				}
			}
		}

		days_remove = 120
		fire_only_once = yes

		ai_will_do = { factor = 0 }

		modifier = {
			production_speed_supply_node_factor = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision restructure_supply_system"
			set_variable = { node_goal = num_of_supply_nodes }
			add_to_variable = { node_goal = 3 } #maximum 3 additional nodes
		}

		cancel_trigger = {
			check_variable = { node_goal < num_of_supply_nodes } #if the number of supply nodes exceeds the old number by +3, immediately cancel
		}
	}

	AUS_KR_fight_for_independence = {
		icon = generic_independence

		allowed = {
			has_subject_autonomy_feature = no
		}

		available = {
			has_political_power > 0
			has_stability > 0.70
			surrender_progress < 0.05
		}

		targets = { overlord }
		target_trigger = {
			has_country_flag = FX_independence_refused # utilise someday maybe
			has_autonomy_state = autonomy_puppet
			is_subject_of = FROM
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision KR_fight_for_independence target: [From.GetName]"
			clr_country_flag = FX_independence_refused
			FROM = {
				add_opinion_modifier = { target = ROOT modifier = ITA_outraged }
				set_autonomy = {
					target = ROOT
					autonomy_state = autonomy_free
				}
			}
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
			separate_peace_all_wars = yes
			# FROM = {
			# 	country_event = { id = generic_events.109 days = 1 }
			# }
		}
	}

	AUS_AI_expand_air_bases = {
		icon = generic_political_discourse

		visible = {
			has_global_flag = second_weltkrieg_has_started
			is_ai = yes
			has_war = yes
			has_manpower > 1000 #make sure they're not deploying due to lack of manpower

			#the AI never stockpiles planes if it can avoid it, so a positive stockpile ratio means they've run out of airbase space
			OR = {
				stockpile_ratio = { archetype = small_plane_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = small_plane_cas_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = small_plane_naval_bomber_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = medium_plane_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = medium_plane_fighter_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = medium_plane_scout_plane_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = large_plane_airframe ratio > 0.02 }
				stockpile_ratio = { archetype = large_plane_maritime_patrol_plane_airframe ratio > 0.02 }
			}
		}

		cost = 0
		days_re_enable = 20
		fire_only_once = no
		fixed_random_seed = no

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AI_expand_air_bases"
			every_controlled_state = {
				if = {
					limit = {
						is_fully_controlled_by = ROOT
						air_base < 10
					}
					add_to_temp_array = { air_base_potential_states = THIS }
				}
				if = {
					limit = {
						any_neighbor_state = { controller = { has_war_with = ROOT } }
					}
					if = {
						limit = {
							is_fully_controlled_by = ROOT
							air_base < 10
						}
						add_to_temp_array = { air_base_potential_states_neighbouring_enemy = THIS }
					}
					every_neighbor_state = {
						limit = {
							is_fully_controlled_by = ROOT
							air_base < 10
						}
						add_to_temp_array = { air_base_potential_states_close_to_enemy = THIS }
					}
				}
				if = {
					limit = {
						any_of_scopes = {
							array = air_base_potential_states_neighbouring_enemy
							is_in_home_area = yes
						}
					}
					set_temp_variable = { home_area_neighbouring_enemy = 1 }
				}
				if = {
					limit = {
						any_of_scopes = {
							array = air_base_potential_states_close_to_enemy
							is_in_home_area = yes
						}
					}
					set_temp_variable = { home_area_close_to_enemy = 1 }
				}
				if = {
					limit = {
						any_of_scopes = {
							array = air_base_potential_states
							is_in_home_area = yes
						}
					}
					set_temp_variable = { home_area_potential = 1 }
				}
			}
			random_controlled_state = {
				limit = {
					is_in_array = { air_base_potential_states = THIS }
					if = {
						limit = { has_variable = air_base_potential_states_neighbouring_enemy^num }
						is_in_array = { air_base_potential_states_neighbouring_enemy = THIS }
						if = {
							limit = { has_variable = home_area_neighbouring_enemy }
							is_in_home_area = yes
						}
					}
					else_if = {
						limit = { has_variable = air_base_potential_states_close_to_enemy^num }
						is_in_array = { air_base_potential_states_close_to_enemy = THIS }
						if = {
							limit = { has_variable = home_area_close_to_enemy }
							is_in_home_area = yes
						}
					}
					else_if = {
						limit = { has_variable = home_area_potential }
						is_in_home_area = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = no
				}
			}
		}
	}
}

GER_debug_decisions = { # lazy as fuck!
	AUS_open_monarchy = {
		available = {
			is_ai = no
			tag = AUS
		}
		allowed = { tag = AUS }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUS_open_monarchy"
			set_politics = {
				ruling_party = authoritarian_democrat
				name = AUS_monarchist_party
				long_name = AUS_monarchist_party_long
			}
			complete_national_focus = AUS_monarchy_restored
			add_dynamic_modifier = { modifier = AUS_SDAPO_irritation }
			add_dynamic_modifier = { modifier = AUS_monarchy_legitimacy }
		}
	}
	AUS_open_schuschnigg = {
		available = {
			is_ai = no
			tag = AUS
		}
		allowed = { tag = AUS }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AUS_open_schuschnigg"

			set_country_flag = AUS_dolfuss_successor_won
			complete_national_focus = AUS_dolfuss_successor
			set_politics = {
				ruling_party = authoritarian_democrat
				long_name = AUS_vaterland_front_long_name
				name = AUS_vaterland_front_name
			}
			retire_character = AUS_Theodor_Korner
			retire_character = AUS_Julius_Deutsch
			retire_character = AUS_Ernst_Fischer
			retire_character = AUS_Johann_Koplenig
			custom_effect_tooltip = tooltip_white_line
			activate_advisor = AUS_Kurt_Schuschnigg_hog_pau
			activate_advisor = AUS_Egon_Berger_Waldenegg_for_ade
			activate_advisor = AUS_Julius_Raab_eco_sco
			activate_advisor = AUS_Emil_Fey_sec_npo
		}
	}
}